{
    "project_name": "NetSocket",
    "canonical_name": "netsocket",
    "dependencies" : [
        "common", 
        "spdlog",
        "bufferlib",
        "ixwebsocket",
        "zlib",
        "mbedtls",
        "mbedx509",
        "mbedcrypto"
    ],
    "include_dirs": "include",
    "debug_defines" : [ "-DNETSOCKET_DEBUG" ],
    "release_defines" : [ "-DNETSOCKET_RELEASE" ],
    "windows_link_args" : [ "-lws2_32", "-liphlpapi", "-lcrypt32" ],
    "vars" :
    {
	    "sources" : [
		    "source/netsocket.cpp",
            "source/netasyncsocket.cpp",
		    "source/netinterface.cpp",
            "source/websocket.cpp",
		    "source/assert.cpp"
	    ]
    },
    "targets": [
       {
            "name" : "netsocket_static",
            "is_static_library" : true,
            "is_install" : true,
            "build_defines" : [ "-DNETSOCKET_BUILD_STATIC_LIBRARY" ],
            "use_defines" : [ "-DNETSOCKET_USE_STATIC_LIBRARY" ],
            "sources" : [ "$sources" ]
        },
        {
            "name" : "netsocket_shared",
            "is_shared_library" : true,
            "is_install" : true,
            "build_defines" : [ "-DNETSOCKET_BUILD_SHARED_LIBRARY" ],
            "use_defines" : [ "-DNETSOCKET_USE_SHARED_LIBRARY" ],
            "sources" : [ "$sources" ]
        },
        {
            "name": "test_server",
            "is_executable": true,
            "link_with" : [ "netsocket_static" ],
            "sources": [
                "source/main.server.cpp"
            ]
        },
        {
            "name" : "test_client",
            "is_executable" : true,
            "link_with" : [ "netsocket_static" ],
            "sources" : [
                "source/main.client.cpp"
            ]
        },
        {
            "name" : "test_server_async_socket",
            "is_executable" : true,
            "link_with" : [ "netsocket_static" ],
            "sources" : [
                "source/main.server_async_socket.cpp"
            ]
        },
        {
            "name" : "test_client_async_socket",
            "is_executable" : true,
            "link_with" : [ "netsocket_static" ],
            "sources" : [
                "source/main.client_async_socket.cpp"
            ]
        },
        {
            "name" : "test_ixwebsocket",
            "is_executable" : true,
            "sources" : [
                "source/main.ixwebsocket.cpp"
            ]
        },
        {
            "name" : "test_client_ixwebsocket",
            "is_executable" : true,
            "link_with" : [ "netsocket_static" ],
            "sources" : [
                "source/main.ixwebsocket.client.cpp"
            ]
        },
        {
            "name" : "test_server_ixwebsocket",
            "is_executable" : true,
            "link_with" : [ "netsocket_static" ],
            "sources" : [
                "source/main.ixwebsocket.server.cpp"
            ]
        }
    ]
}
